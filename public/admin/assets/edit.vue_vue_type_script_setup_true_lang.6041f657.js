import{C as x,D as g,v as k,t as R,F as h}from"./element-plus.6c36063e.js";import{j as y,a as A,b as U}from"./post.9f128c37.js";import{P as j}from"./index.10e5ad8b.js";import{d as q,s as c,r as I,e as N,a1 as P,o as S,c as z,W as o,O as t,a as f,u as O}from"./@vue.af680e04.js";const T={class:"edit-popup"},W=f("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C \u6570\u503C\u8D8A\u5927\u8D8A\u6392\u524D",-1),M=q({__name:"edit",emits:["success","close"],setup(G,{expose:F,emit:m}){const p=c(),r=c(),n=I("add"),_=N(()=>n.value=="edit"?"\u7F16\u8F91\u5C97\u4F4D":"\u65B0\u589E\u5C97\u4F4D"),u=P({id:"",name:"",code:"",sort:0,remark:"",status:1}),D={code:[{required:!0,message:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801",trigger:["blur"]}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0",trigger:["blur"]}]},C=async()=>{var l,e;await((l=p.value)==null?void 0:l.validate()),n.value=="edit"?await y(u):await A(u),(e=r.value)==null||e.close(),m("success")},b=(l="add")=>{var e;n.value=l,(e=r.value)==null||e.open()},i=l=>{for(const e in u)l[e]!=null&&l[e]!=null&&(u[e]=l[e])},v=async l=>{const e=await U({id:l.id});i(e)},V=()=>{m("close")};return F({open:b,setFormData:i,getDetail:v}),(l,e)=>{const d=x,s=g,w=k,E=R,B=h;return S(),z("div",T,[o(j,{ref_key:"popupRef",ref:r,title:O(_),async:!0,width:"550px",onConfirm:C,onClose:V},{default:t(()=>[o(B,{ref_key:"formRef",ref:p,model:u,"label-width":"84px",rules:D},{default:t(()=>[o(s,{label:"\u5C97\u4F4D\u540D\u79F0",prop:"name"},{default:t(()=>[o(d,{modelValue:u.name,"onUpdate:modelValue":e[0]||(e[0]=a=>u.name=a),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0",clearable:"",maxlength:100},null,8,["modelValue"])]),_:1}),o(s,{label:"\u5C97\u4F4D\u7F16\u7801",prop:"code"},{default:t(()=>[o(d,{modelValue:u.code,"onUpdate:modelValue":e[1]||(e[1]=a=>u.code=a),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801",clearable:""},null,8,["modelValue"])]),_:1}),o(s,{label:"\u6392\u5E8F",prop:"sort"},{default:t(()=>[f("div",null,[o(w,{modelValue:u.sort,"onUpdate:modelValue":e[2]||(e[2]=a=>u.sort=a),min:0,max:9999},null,8,["modelValue"]),W])]),_:1}),o(s,{label:"\u5907\u6CE8",prop:"remark"},{default:t(()=>[o(d,{modelValue:u.remark,"onUpdate:modelValue":e[3]||(e[3]=a=>u.remark=a),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",type:"textarea",autosize:{minRows:4,maxRows:6},maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1}),o(s,{label:"\u5C97\u4F4D\u72B6\u6001",required:"",prop:"status"},{default:t(()=>[o(E,{modelValue:u.status,"onUpdate:modelValue":e[4]||(e[4]=a=>u.status=a),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{M as _};
